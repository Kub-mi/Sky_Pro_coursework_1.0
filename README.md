# SkyPro Финансовый Анализатор

Инструмент для анализа пользовательских финансов, генерации отчетов и получения данных с внешних API.

---

## Описание

Проект предназначен для:
- анализа расходов по категориям;
- генерации JSON-отчетов;
- получения курсов валют и цен акций;
- анализа выгодных категорий для кешбэка;
- сохранения отчетов в автоматическом режиме;
- передачи данных фронтенду в формате JSON.

---

## Структура проекта

SkyPro_coursework/ 
├── data/ # Excel и сохраненные JSON-отчеты 
│ 
└── operations.xlsx 
├── logs/ # Логи (views.log, reports.log и др.) 
├── src/ │ ├── views.py # Основной API (main_info) 
│ ├── utils.py # Утилиты (API-запросы, дата, Excel) 
│ ├── reports.py # Отчеты и декораторы 
│ ├── services.py # Сервисы (например, выгодные кешбэки) 
│ └── main.py # Точка входа 
├── tests/ # Юнит-тесты Pytest 
├── .env # Переменные окружения 
└── README.md # Документация проекта


---

## Установка

1. Клонировать проект:
```bash
git clone https://github.com/Kub-mi/Sky_Pro_coursework_1.git
```
2. Установить зависимости:
```bash
pip install -r requirements.txt
```
3. Создать .env файл с API-ключами:

```bash
API_KEY_CURRENCY=ваш_ключ_от_currencylayer
API_KEY_PRICE=ваш_ключ_от_marketstack
```
## Запуск
Получить отчет по дате:
```bash
python src/main.py
```
Отчет будет сохранен автоматически в data/ как JSON.

## Используемые технологии
pandas — анализ данных

requests — API-запросы

python-dotenv — .env-файлы

logging — логирование

pytest — тестирование

json — экспорт отчетов

## Особенности
Поддержка нестандартного формата даты дд.мм.гггг чч:мм:сс

Автоматическое создание логов и папки data/

Умный декоратор @save_report с параметром или без

Вычисление кешбэка и топовых транзакций

Получение актуальных курсов валют и акций

## Формат исходных данных
Файл operations.xlsx должен содержать следующие столбцы:

Дата операции

Сумма платежа

Категория

Бонусы (включая кэшбэк)

Номер карты

и др.